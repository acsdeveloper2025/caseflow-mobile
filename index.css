@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, #root {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: auto;
  background-color: #111827; /* dark-bg */
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;

  /* Remove automatic safe area padding from root - handle it per component */
  /* Ensure full viewport coverage */
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

/* Custom scrollbar styles for form content */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #1F2937;
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #4B5563;
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #6B7280;
}

/* Ensure proper scrolling for main content areas */
body {
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
}

/* Ensure React Native Web FlatList can scroll properly */
[data-focusable="true"] {
  overflow: auto !important;
}

/* Custom scrollbar for main content */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #111827;
}

::-webkit-scrollbar-thumb {
  background: #374151;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #4B5563;
}

/* Mobile-specific safe area and layout utilities */
.safe-area-container {
  padding-top: max(4px, env(safe-area-inset-top));
  padding-bottom: max(4px, env(safe-area-inset-bottom));
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.safe-area-top {
  padding-top: max(2px, env(safe-area-inset-top));
}

.safe-area-bottom {
  padding-bottom: max(2px, env(safe-area-inset-bottom));
}

.safe-area-left {
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

/* Mobile viewport utilities */
.mobile-container {
  width: 100%;
  min-height: 100vh;
  min-height: -webkit-fill-available;
  position: relative;
  overflow-x: hidden;
}

.mobile-content {
  padding-bottom: calc(80px + max(4px, env(safe-area-inset-bottom))); /* Bottom nav + minimal safe area */
  min-height: calc(100vh - max(4px, env(safe-area-inset-top)) - max(4px, env(safe-area-inset-bottom)));
}

.mobile-header {
  position: sticky;
  top: max(2px, env(safe-area-inset-top));
  z-index: 100;
  background-color: #111827;
  border-bottom: 1px solid #374151;
}

.mobile-bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  padding-bottom: max(4px, env(safe-area-inset-bottom));
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  background-color: #1f2937;
  border-top: 1px solid #374151;
}

/* Responsive design utilities */
@media (max-width: 640px) {
  .mobile-padding {
    padding-left: max(16px, env(safe-area-inset-left));
    padding-right: max(16px, env(safe-area-inset-right));
  }
}

@media (orientation: landscape) and (max-height: 500px) {
  .landscape-compact {
    padding-top: max(8px, env(safe-area-inset-top));
    padding-bottom: max(8px, env(safe-area-inset-bottom));
  }
}

/* Fix for iOS Safari viewport issues */
@supports (-webkit-touch-callout: none) {
  .ios-viewport-fix {
    min-height: -webkit-fill-available;
  }
}
